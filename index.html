<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSA Mastery Tracker</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg-cream: #faf8f5;
            --bg-light: #f5f3ef;
            --bg-white: #ffffff;
            --border-black: #1a1a1a;
            --text-primary: #1a1a1a;
            --text-secondary: #666666;
            --text-muted: #888888;
            --accent-pink: #ff69b4;
            --accent-violet: #9b59b6;
            --accent-lavender: #c9a7eb;
            --accent-yellow: #ffd93d;
            --accent-cyan: #00d4aa;
            --stripe-color: #f0e68c;
            --success-green: #28a745;
            --warning-orange: #fd7e14;
            --danger-red: #dc3545;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-cream);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Striped Pattern Background */
        .striped-bg {
            background: repeating-linear-gradient(45deg,
                    var(--stripe-color),
                    var(--stripe-color) 2px,
                    var(--bg-cream) 2px,
                    var(--bg-cream) 8px);
        }

        /* Header */
        .header {
            background: var(--bg-cream);
            border-bottom: 3px solid var(--border-black);
            padding: 1.5rem 2rem;
        }

        .header-content {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-icon {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, var(--accent-violet), var(--accent-pink));
            border: 3px solid var(--border-black);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
            box-shadow: 5px 5px 0 var(--border-black);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-4px);
            }
        }

        .logo-text h1 {
            font-family: 'Space Mono', monospace;
            font-size: 1.5rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            background: linear-gradient(135deg, var(--accent-violet), var(--accent-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-text p {
            font-family: 'Space Mono', monospace;
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .version-badge {
            display: inline-block;
            background: var(--accent-cyan);
            border: 2px solid var(--border-black);
            padding: 0.25rem 0.5rem;
            font-family: 'Space Mono', monospace;
            font-size: 0.6rem;
            font-weight: 700;
            margin-left: 0.5rem;
            color: var(--border-black);
        }

        .reset-btn {
            background: var(--bg-white);
            border: 3px solid var(--border-black);
            padding: 0.75rem 1.25rem;
            font-family: 'Space Mono', monospace;
            font-size: 0.75rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 4px 4px 0 var(--border-black);
            transition: all 0.15s ease;
            text-transform: uppercase;
        }

        .reset-btn:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 var(--border-black);
            background: var(--danger-red);
            color: white;
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .stat-box {
            background: var(--bg-white);
            border: 3px solid var(--border-black);
            padding: 0.75rem 1.5rem;
            text-align: center;
            box-shadow: 4px 4px 0 var(--border-black);
            flex: 1;
            min-width: 120px;
            transition: all 0.15s ease;
        }

        .stat-box:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 var(--border-black);
        }

        .stat-box.highlight {
            background: linear-gradient(135deg, var(--accent-pink), var(--accent-violet));
            color: white;
        }

        .stat-box.streak {
            background: var(--accent-yellow);
        }

        .stat-box.today {
            background: var(--accent-cyan);
        }

        .stat-value {
            font-family: 'Space Mono', monospace;
            font-size: 1.75rem;
            font-weight: 700;
        }

        .stat-label {
            font-family: 'Space Mono', monospace;
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: inherit;
            opacity: 0.8;
        }

        /* Main Container */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Top Stats Row */
        .top-stats {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        /* Progress Section */
        .progress-section {
            background: var(--bg-white);
            border: 3px solid var(--border-black);
            padding: 1.5rem;
            box-shadow: 6px 6px 0 var(--border-black);
            flex: 1;
            position: relative;
            overflow: hidden;
        }

        .progress-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--accent-violet), var(--accent-pink), var(--accent-yellow), var(--accent-cyan));
        }

        .section-label {
            font-family: 'Space Mono', monospace;
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--text-muted);
            margin-bottom: 0.75rem;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .progress-title {
            font-family: 'Space Mono', monospace;
            font-size: 1rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .progress-percentage {
            font-family: 'Space Mono', monospace;
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-lavender), var(--accent-pink));
            border: 2px solid var(--border-black);
            padding: 0.25rem 0.75rem;
        }

        .progress-bar-container {
            width: 100%;
            height: 24px;
            background: var(--bg-light);
            border: 3px solid var(--border-black);
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-violet), var(--accent-pink));
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, var(--accent-pink), var(--accent-violet));
            border: 3px solid var(--border-black);
            padding: 1rem 1.25rem;
            color: white;
            min-width: 220px;
            box-shadow: 6px 6px 0 var(--border-black);
        }

        .info-box-title {
            font-family: 'Space Mono', monospace;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 0.25rem;
        }

        .info-box-text {
            font-family: 'Space Mono', monospace;
            font-size: 0.7rem;
            opacity: 0.9;
            line-height: 1.4;
        }

        /* Week Cards */
        .weeks-grid {
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
        }

        .week-card {
            width: 100%;
            background: var(--bg-white);
            border: 3px solid var(--border-black);
            box-shadow: 5px 5px 0 var(--border-black);
            transition: all 0.2s ease;
        }

        .week-card:hover {
            box-shadow: 7px 7px 0 var(--border-black);
        }

        .week-card.expanded {
            box-shadow: 8px 8px 0 var(--accent-violet);
            border-color: var(--accent-violet);
        }

        .week-header {
            padding: 1rem 1.25rem;
            border-bottom: 3px solid var(--border-black);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            background: var(--bg-light);
            transition: all 0.15s ease;
        }

        .week-header:hover {
            background: var(--bg-cream);
        }

        .week-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .week-number {
            width: 52px;
            height: 52px;
            background: linear-gradient(135deg, var(--accent-violet), var(--accent-pink));
            border: 3px solid var(--border-black);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: 'Space Mono', monospace;
            font-weight: 700;
            font-size: 0.75rem;
            color: white;
            box-shadow: 3px 3px 0 var(--border-black);
        }

        .week-icon {
            font-size: 1.25rem;
            line-height: 1;
        }

        .week-label {
            font-size: 0.6rem;
            opacity: 0.9;
        }

        .week-title {
            font-family: 'Space Mono', monospace;
            font-weight: 700;
            font-size: 0.95rem;
            text-transform: uppercase;
        }

        .week-topic {
            font-family: 'Space Mono', monospace;
            font-size: 0.7rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .week-progress {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .week-count {
            font-family: 'Space Mono', monospace;
            font-size: 0.8rem;
            font-weight: 700;
            background: var(--accent-yellow);
            border: 2px solid var(--border-black);
            padding: 0.25rem 0.6rem;
        }

        .week-count.complete {
            background: var(--accent-cyan);
        }

        .week-mini-progress {
            width: 80px;
            height: 10px;
            background: var(--bg-cream);
            border: 2px solid var(--border-black);
            overflow: hidden;
        }

        .week-mini-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--success-green), var(--accent-cyan));
            transition: width 0.3s ease;
        }

        .expand-icon {
            font-family: 'Space Mono', monospace;
            font-size: 0.9rem;
            transition: transform 0.3s ease;
            width: 32px;
            height: 32px;
            border: 2px solid var(--border-black);
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-white);
        }

        .week-card.expanded .expand-icon {
            transform: rotate(180deg);
            background: var(--accent-violet);
            color: white;
        }

        .week-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
        }

        .week-card.expanded .week-content {
            max-height: 3000px;
            padding: 1.25rem;
        }

        /* Day Group */
        .day-group {
            margin-bottom: 1.5rem;
        }

        .day-group:last-child {
            margin-bottom: 0;
        }

        .day-label {
            font-family: 'Space Mono', monospace;
            font-size: 0.7rem;
            font-weight: 700;
            color: white;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 0.75rem;
            padding: 0.4rem 0.75rem;
            background: linear-gradient(135deg, var(--accent-violet), var(--accent-pink));
            border: 2px solid var(--border-black);
            display: inline-block;
        }

        /* Problem Items */
        .problem-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.875rem 1rem;
            background: var(--bg-white);
            border: 2px dashed var(--text-muted);
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .problem-item:last-child {
            margin-bottom: 0;
        }

        .problem-item:hover {
            border-style: solid;
            border-color: var(--border-black);
            background: var(--bg-light);
            transform: translateX(4px);
        }

        .problem-item.completed {
            background: linear-gradient(135deg, rgba(0, 212, 170, 0.1), rgba(155, 89, 182, 0.1));
            border-color: var(--accent-cyan);
            border-style: solid;
        }

        /* Custom Checkbox */
        .checkbox {
            width: 28px;
            height: 28px;
            border: 3px solid var(--border-black);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            flex-shrink: 0;
            background: var(--bg-white);
        }

        .problem-item:hover .checkbox {
            background: var(--bg-light);
            transform: scale(1.05);
        }

        .problem-item.completed .checkbox {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-violet));
            animation: checkPop 0.3s ease;
        }

        @keyframes checkPop {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1);
            }
        }

        .checkmark {
            opacity: 0;
            color: white;
            font-family: 'Space Mono', monospace;
            font-size: 16px;
            font-weight: bold;
            transition: opacity 0.15s ease;
        }

        .problem-item.completed .checkmark {
            opacity: 1;
        }

        .problem-info {
            flex: 1;
            min-width: 0;
        }

        .problem-name {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        .problem-item.completed .problem-name {
            text-decoration: line-through;
            color: var(--text-muted);
        }

        .problem-meta {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .problem-number {
            font-family: 'Space Mono', monospace;
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .difficulty {
            font-family: 'Space Mono', monospace;
            font-size: 0.6rem;
            padding: 0.2rem 0.5rem;
            border: 2px solid var(--border-black);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .difficulty.easy {
            background: #d4edda;
            color: var(--success-green);
        }

        .difficulty.medium {
            background: #fff3cd;
            color: #856404;
        }

        .difficulty.hard {
            background: #f8d7da;
            color: var(--danger-red);
        }

        .leetcode-link {
            font-family: 'Space Mono', monospace;
            font-size: 0.7rem;
            color: var(--text-primary);
            text-decoration: none;
            padding: 0.4rem 0.75rem;
            background: var(--accent-yellow);
            border: 2px solid var(--border-black);
            transition: all 0.15s ease;
            white-space: nowrap;
        }

        .leetcode-link:hover {
            background: var(--border-black);
            color: white;
            transform: scale(1.05);
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--bg-white);
            border: 4px solid var(--border-black);
            padding: 2.5rem;
            text-align: center;
            max-width: 400px;
            box-shadow: 10px 10px 0 var(--accent-violet);
            animation: modalPop 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes modalPop {
            0% {
                transform: scale(0.8) rotate(-2deg);
                opacity: 0;
            }

            100% {
                transform: scale(1) rotate(0);
                opacity: 1;
            }
        }

        .modal-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: bounce 0.6s ease infinite;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .modal h2 {
            font-family: 'Space Mono', monospace;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            background: linear-gradient(135deg, var(--accent-violet), var(--accent-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .modal p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            font-family: 'Space Mono', monospace;
            font-size: 0.85rem;
        }

        .modal-btn {
            background: linear-gradient(135deg, var(--accent-violet), var(--accent-pink));
            border: 3px solid var(--border-black);
            color: white;
            padding: 0.875rem 2rem;
            font-family: 'Space Mono', monospace;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
            box-shadow: 4px 4px 0 var(--border-black);
        }

        .modal-btn:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 var(--border-black);
        }

        /* Footer */
        .footer {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
            text-align: center;
            border-top: 3px dashed var(--text-muted);
        }

        .footer-text {
            font-family: 'Space Mono', monospace;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .footer-text span {
            color: var(--accent-pink);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 1rem;
            }

            .header-top {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }

            .stats-bar {
                width: 100%;
            }

            .stat-box {
                padding: 0.5rem 0.75rem;
                min-width: 80px;
            }

            .stat-value {
                font-size: 1.25rem;
            }

            .container {
                padding: 1rem;
            }

            .top-stats {
                flex-direction: column;
            }

            .week-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .week-progress {
                width: 100%;
                justify-content: space-between;
            }

            .problem-item {
                flex-wrap: wrap;
            }

            .leetcode-link {
                width: 100%;
                text-align: center;
                margin-top: 0.5rem;
            }
        }

        /* Confetti */
        .confetti {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
        }

        /* Activity Heatmap */
        .heatmap-section {
            background: var(--bg-white);
            border: 3px solid var(--border-black);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 6px 6px 0 var(--border-black);
        }

        .heatmap-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .heatmap-title {
            font-family: 'Space Mono', monospace;
            font-size: 1rem;
            font-weight: 700;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .heatmap-subtitle {
            font-family: 'Space Mono', monospace;
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .heatmap-container {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }

        .heatmap-months {
            display: flex;
            gap: 2px;
            margin-bottom: 0.25rem;
            padding-left: 24px;
        }

        .heatmap-month {
            font-family: 'Space Mono', monospace;
            font-size: 0.55rem;
            color: var(--text-muted);
            text-transform: uppercase;
            min-width: 44px;
        }

        .heatmap-days-label {
            display: flex;
            flex-direction: column;
            gap: 2px;
            margin-right: 4px;
        }

        .heatmap-day-label {
            font-family: 'Space Mono', monospace;
            font-size: 0.5rem;
            color: var(--text-muted);
            height: 12px;
            display: flex;
            align-items: center;
        }

        .heatmap-grid {
            display: flex;
            gap: 3px;
        }

        .heatmap-week {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .heatmap-cell {
            width: 12px;
            height: 12px;
            border: 1px solid var(--border-black);
            background: var(--bg-light);
            cursor: pointer;
            transition: all 0.15s ease;
            position: relative;
        }

        .heatmap-cell:hover {
            transform: scale(1.3);
            z-index: 10;
        }

        .heatmap-cell.level-0 {
            background: var(--bg-light);
        }

        .heatmap-cell.level-1 {
            background: #c9a7eb;
        }

        .heatmap-cell.level-2 {
            background: #b380d9;
        }

        .heatmap-cell.level-3 {
            background: #9b59b6;
        }

        .heatmap-cell.level-4 {
            background: #7d3c98;
        }

        .heatmap-cell.future {
            background: transparent;
            border-style: dashed;
            border-color: var(--text-muted);
        }

        .heatmap-cell[data-tooltip]:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--border-black);
            color: white;
            padding: 0.25rem 0.5rem;
            font-family: 'Space Mono', monospace;
            font-size: 0.6rem;
            white-space: nowrap;
            border: 2px solid var(--border-black);
            z-index: 100;
            margin-bottom: 4px;
        }

        .heatmap-legend {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            justify-content: flex-end;
        }

        .heatmap-legend-label {
            font-family: 'Space Mono', monospace;
            font-size: 0.6rem;
            color: var(--text-muted);
        }

        .heatmap-legend-cells {
            display: flex;
            gap: 2px;
        }

        .heatmap-legend-cell {
            width: 12px;
            height: 12px;
            border: 1px solid var(--border-black);
        }
    </style>
</head>

<body>
    <header class="header striped-bg">
        <div class="header-content">
            <div class="header-top">
                <div class="logo">
                    <div class="logo-icon">ÔøΩ</div>
                    <div class="logo-text">
                        <h1>DSA Tracker <span class="version-badge">v3.0</span></h1>
                        <p>Master 350 problems step by step</p>
                    </div>
                </div>
                <button class="reset-btn" onclick="resetProgress()">‚Üª Reset All</button>
            </div>
            <div class="stats-bar">
                <div class="stat-box">
                    <div class="stat-value" id="completedCount">0</div>
                    <div class="stat-label">‚úì Completed</div>
                </div>
                <div class="stat-box highlight">
                    <div class="stat-value" id="remainingCount">350</div>
                    <div class="stat-label">üìã Remaining</div>
                </div>
                <div class="stat-box today">
                    <div class="stat-value" id="todayCount">0</div>
                    <div class="stat-label">‚ö° Today</div>
                </div>
                <div class="stat-box streak">
                    <div class="stat-value">üî• <span id="streakDays">0</span></div>
                    <div class="stat-label">Day Streak</div>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="top-stats">
            <div class="progress-section">
                <div class="section-label">Output // Progress</div>
                <div class="progress-header">
                    <div class="progress-title">Overall Progress</div>
                    <div class="progress-percentage" id="progressPercent">0%</div>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                </div>
            </div>
            <div class="info-box">
                <div class="info-box-title">üíæ Local Storage</div>
                <div class="info-box-text">Your progress is saved locally in your browser. No server uploads required.
                </div>
            </div>
        </div>

        <!-- Activity Heatmap -->
        <div class="heatmap-section">
            <div class="heatmap-header">
                <div class="heatmap-title">üìÖ Activity Heatmap</div>
                <div class="heatmap-subtitle" id="heatmapTotal">0 problems solved in the last 6 months</div>
            </div>
            <div id="heatmapContainer"></div>
            <div class="heatmap-legend">
                <span class="heatmap-legend-label">Less</span>
                <div class="heatmap-legend-cells">
                    <div class="heatmap-legend-cell level-0" style="background: var(--bg-light);"></div>
                    <div class="heatmap-legend-cell level-1" style="background: #c9a7eb;"></div>
                    <div class="heatmap-legend-cell level-2" style="background: #b380d9;"></div>
                    <div class="heatmap-legend-cell level-3" style="background: #9b59b6;"></div>
                    <div class="heatmap-legend-cell level-4" style="background: #7d3c98;"></div>
                </div>
                <span class="heatmap-legend-label">More</span>
            </div>
        </div>

        <div class="weeks-grid" id="weeksGrid">
            <!-- Generated by JavaScript -->
        </div>
    </main>

    <footer class="footer">
        <p class="footer-text">Built for DSA mastery ‚Ä¢ Track your progress, build <span>consistency</span></p>
    </footer>

    <div class="modal-overlay" id="celebrationModal">
        <div class="modal">
            <div class="modal-icon">üéâ</div>
            <h2>Amazing Progress!</h2>
            <p id="celebrationText">You've completed another problem! Keep up the great work!</p>
            <button class="modal-btn" onclick="closeModal()">Continue ‚Üí</button>
        </div>
    </div>

    <script>
        // Topic icons mapping
        const topicIcons = {
            "Arrays & Hashing": "üî¢",
            "Sliding Window": "ü™ü",
            "Stack & Queue": "üìö",
            "Binary Search": "üîç",
            "Linked Lists": "üîó",
            "Trees": "üå≥",
            "Graphs": "üï∏Ô∏è",
            "Heap": "‚õ∞Ô∏è",
            "Dynamic Programming": "üìä",
            "Backtracking": "üîÑ"
        };

        // Problem Data - 350 Problems
        const problemsData = [
            // Week 1-3: Arrays & Hashing (44 problems)
            {
                week: "1-3", topic: "Arrays & Hashing", day: "Day 1-3: Basic Array", problems: [
                    { id: 1, name: "Two Sum", leetcode: 1, difficulty: "Easy" },
                    { id: 2, name: "Contains Duplicate", leetcode: 217, difficulty: "Easy" },
                    { id: 3, name: "Valid Anagram", leetcode: 242, difficulty: "Easy" },
                    { id: 4, name: "Concatenation of Array", leetcode: 1929, difficulty: "Easy" },
                    { id: 5, name: "Replace Elements Greatest Right", leetcode: 1299, difficulty: "Easy" },
                    { id: 6, name: "Is Subsequence", leetcode: 392, difficulty: "Easy" },
                    { id: 7, name: "Length of Last Word", leetcode: 58, difficulty: "Easy" },
                    { id: 8, name: "Longest Common Prefix", leetcode: 14, difficulty: "Easy" },
                ]
            },
            {
                week: "1-3", topic: "Arrays & Hashing", day: "Day 4-6: HashMap Patterns", problems: [
                    { id: 9, name: "Group Anagrams", leetcode: 49, difficulty: "Medium" },
                    { id: 10, name: "Top K Frequent Elements", leetcode: 347, difficulty: "Medium" },
                    { id: 11, name: "Encode and Decode Strings", leetcode: 271, difficulty: "Medium" },
                    { id: 12, name: "Product of Array Except Self", leetcode: 238, difficulty: "Medium" },
                    { id: 13, name: "Longest Consecutive Sequence", leetcode: 128, difficulty: "Medium" },
                    { id: 14, name: "Valid Sudoku", leetcode: 36, difficulty: "Medium" },
                    { id: 15, name: "Brick Wall", leetcode: 554, difficulty: "Medium" },
                    { id: 16, name: "Find All Duplicates in Array", leetcode: 442, difficulty: "Medium" },
                ]
            },
            {
                week: "1-3", topic: "Arrays & Hashing", day: "Day 7-9: Prefix Sum", problems: [
                    { id: 17, name: "Running Sum of 1d Array", leetcode: 1480, difficulty: "Easy" },
                    { id: 18, name: "Find Pivot Index", leetcode: 724, difficulty: "Easy" },
                    { id: 19, name: "Range Sum Query - Immutable", leetcode: 303, difficulty: "Easy" },
                    { id: 20, name: "Subarray Sum Equals K", leetcode: 560, difficulty: "Medium" },
                    { id: 21, name: "Maximum Subarray", leetcode: 53, difficulty: "Medium" },
                    { id: 22, name: "Maximum Product Subarray", leetcode: 152, difficulty: "Medium" },
                    { id: 23, name: "Contiguous Array", leetcode: 525, difficulty: "Medium" },
                    { id: 24, name: "Range Sum Query 2D", leetcode: 304, difficulty: "Medium" },
                ]
            },
            {
                week: "1-3", topic: "Arrays & Hashing", day: "Day 10-12: Two Pointers", problems: [
                    { id: 25, name: "Valid Palindrome", leetcode: 125, difficulty: "Easy" },
                    { id: 26, name: "Two Sum II - Sorted", leetcode: 167, difficulty: "Medium" },
                    { id: 27, name: "3Sum", leetcode: 15, difficulty: "Medium" },
                    { id: 28, name: "3Sum Closest", leetcode: 16, difficulty: "Medium" },
                    { id: 29, name: "Container With Most Water", leetcode: 11, difficulty: "Medium" },
                    { id: 30, name: "Trapping Rain Water", leetcode: 42, difficulty: "Hard" },
                    { id: 31, name: "Valid Palindrome II", leetcode: 680, difficulty: "Easy" },
                    { id: 32, name: "Reverse String", leetcode: 344, difficulty: "Easy" },
                ]
            },
            {
                week: "1-3", topic: "Arrays & Hashing", day: "Day 13-17: Array Manipulation", problems: [
                    { id: 33, name: "Move Zeroes", leetcode: 283, difficulty: "Easy" },
                    { id: 34, name: "Remove Duplicates Sorted Array", leetcode: 26, difficulty: "Easy" },
                    { id: 35, name: "Remove Element", leetcode: 27, difficulty: "Easy" },
                    { id: 36, name: "Sort Colors", leetcode: 75, difficulty: "Medium" },
                    { id: 37, name: "Rotate Array", leetcode: 189, difficulty: "Medium" },
                    { id: 38, name: "Merge Intervals", leetcode: 56, difficulty: "Medium" },
                    { id: 39, name: "Insert Interval", leetcode: 57, difficulty: "Medium" },
                    { id: 40, name: "Non-overlapping Intervals", leetcode: 435, difficulty: "Medium" },
                    { id: 41, name: "First Missing Positive", leetcode: 41, difficulty: "Hard" },
                    { id: 42, name: "4Sum", leetcode: 18, difficulty: "Medium" },
                    { id: 43, name: "Meeting Rooms", leetcode: 252, difficulty: "Easy" },
                    { id: 44, name: "Meeting Rooms II", leetcode: 253, difficulty: "Medium" },
                ]
            },
            // Week 4-5: Sliding Window (20 problems)
            {
                week: "4-5", topic: "Sliding Window", day: "Day 18-20: Fixed Window", problems: [
                    { id: 45, name: "Maximum Average Subarray I", leetcode: 643, difficulty: "Easy" },
                    { id: 46, name: "Find All Anagrams in String", leetcode: 438, difficulty: "Medium" },
                    { id: 47, name: "Permutation in String", leetcode: 567, difficulty: "Medium" },
                    { id: 48, name: "Max Sum Distinct Subarrays", leetcode: 2461, difficulty: "Medium" },
                    { id: 49, name: "Repeated DNA Sequences", leetcode: 187, difficulty: "Medium" },
                    { id: 50, name: "Contains Duplicate II", leetcode: 219, difficulty: "Easy" },
                    { id: 51, name: "Grumpy Bookstore Owner", leetcode: 1052, difficulty: "Medium" },
                ]
            },
            {
                week: "4-5", topic: "Sliding Window", day: "Day 21-25: Variable Window", problems: [
                    { id: 52, name: "Best Time Buy Sell Stock", leetcode: 121, difficulty: "Easy" },
                    { id: 53, name: "Longest Substring No Repeat", leetcode: 3, difficulty: "Medium" },
                    { id: 54, name: "Longest Repeating Char Replace", leetcode: 424, difficulty: "Medium" },
                    { id: 55, name: "Max Consecutive Ones III", leetcode: 1004, difficulty: "Medium" },
                    { id: 56, name: "Fruit Into Baskets", leetcode: 904, difficulty: "Medium" },
                    { id: 57, name: "Minimum Window Substring", leetcode: 76, difficulty: "Hard" },
                    { id: 58, name: "Sliding Window Maximum", leetcode: 239, difficulty: "Hard" },
                    { id: 59, name: "Minimum Size Subarray Sum", leetcode: 209, difficulty: "Medium" },
                    { id: 60, name: "Subarrays K Different Integers", leetcode: 992, difficulty: "Hard" },
                    { id: 61, name: "Longest Substr K Distinct", leetcode: 340, difficulty: "Medium" },
                    { id: 62, name: "Count Nice Subarrays", leetcode: 1248, difficulty: "Medium" },
                    { id: 63, name: "Binary Subarrays With Sum", leetcode: 930, difficulty: "Medium" },
                    { id: 64, name: "Get Equal Substrings Budget", leetcode: 1208, difficulty: "Medium" },
                ]
            },
            // Week 6-7: Stack & Queue (27 problems)
            {
                week: "6-7", topic: "Stack & Queue", day: "Day 26-28: Stack Basics", problems: [
                    { id: 65, name: "Valid Parentheses", leetcode: 20, difficulty: "Easy" },
                    { id: 66, name: "Min Stack", leetcode: 155, difficulty: "Medium" },
                    { id: 67, name: "Queue using Stacks", leetcode: 232, difficulty: "Easy" },
                    { id: 68, name: "Stack using Queues", leetcode: 225, difficulty: "Easy" },
                    { id: 69, name: "Baseball Game", leetcode: 682, difficulty: "Easy" },
                    { id: 70, name: "Backspace String Compare", leetcode: 844, difficulty: "Easy" },
                    { id: 71, name: "Remove Adjacent Duplicates", leetcode: 1047, difficulty: "Easy" },
                    { id: 72, name: "Make The String Great", leetcode: 1544, difficulty: "Easy" },
                ]
            },
            {
                week: "6-7", topic: "Stack & Queue", day: "Day 29-32: Monotonic Stack", problems: [
                    { id: 73, name: "Next Greater Element I", leetcode: 496, difficulty: "Easy" },
                    { id: 74, name: "Daily Temperatures", leetcode: 739, difficulty: "Medium" },
                    { id: 75, name: "Next Greater Element II", leetcode: 503, difficulty: "Medium" },
                    { id: 76, name: "Online Stock Span", leetcode: 901, difficulty: "Medium" },
                    { id: 77, name: "Car Fleet", leetcode: 853, difficulty: "Medium" },
                    { id: 78, name: "Remove K Digits", leetcode: 402, difficulty: "Medium" },
                    { id: 79, name: "Largest Rectangle Histogram", leetcode: 84, difficulty: "Hard" },
                    { id: 80, name: "Maximal Rectangle", leetcode: 85, difficulty: "Hard" },
                    { id: 81, name: "Trapping Rain Water", leetcode: 42, difficulty: "Hard" },
                    { id: 82, name: "Sum Subarray Minimums", leetcode: 907, difficulty: "Medium" },
                ]
            },
            {
                week: "6-7", topic: "Stack & Queue", day: "Day 33-35: Expression Eval", problems: [
                    { id: 83, name: "Evaluate RPN", leetcode: 150, difficulty: "Medium" },
                    { id: 84, name: "Basic Calculator II", leetcode: 227, difficulty: "Medium" },
                    { id: 85, name: "Basic Calculator", leetcode: 224, difficulty: "Hard" },
                    { id: 86, name: "Decode String", leetcode: 394, difficulty: "Medium" },
                    { id: 87, name: "Asteroid Collision", leetcode: 735, difficulty: "Medium" },
                    { id: 88, name: "Generate Parentheses", leetcode: 22, difficulty: "Medium" },
                    { id: 89, name: "Simplify Path", leetcode: 71, difficulty: "Medium" },
                    { id: 90, name: "Remove Outermost Parentheses", leetcode: 1021, difficulty: "Easy" },
                    { id: 91, name: "Min Add Valid Parentheses", leetcode: 921, difficulty: "Medium" },
                ]
            },
            // Week 8-9: Binary Search (28 problems)
            {
                week: "8-9", topic: "Binary Search", day: "Day 36-38: Standard Binary Search", problems: [
                    { id: 92, name: "Binary Search", leetcode: 704, difficulty: "Easy" },
                    { id: 93, name: "Search Insert Position", leetcode: 35, difficulty: "Easy" },
                    { id: 94, name: "Guess Number Higher Lower", leetcode: 374, difficulty: "Easy" },
                    { id: 95, name: "First Bad Version", leetcode: 278, difficulty: "Easy" },
                    { id: 96, name: "Find Smallest Letter", leetcode: 744, difficulty: "Easy" },
                    { id: 97, name: "Valid Perfect Square", leetcode: 367, difficulty: "Easy" },
                    { id: 98, name: "Arranging Coins", leetcode: 441, difficulty: "Easy" },
                    { id: 99, name: "Count Negative Numbers", leetcode: 1351, difficulty: "Easy" },
                ]
            },
            {
                week: "8-9", topic: "Binary Search", day: "Day 39-42: Modified Binary Search", problems: [
                    { id: 100, name: "Search a 2D Matrix", leetcode: 74, difficulty: "Medium" },
                    { id: 101, name: "Search Rotated Sorted Array", leetcode: 33, difficulty: "Medium" },
                    { id: 102, name: "Search Rotated Sorted II", leetcode: 81, difficulty: "Medium" },
                    { id: 103, name: "Find Min Rotated Sorted", leetcode: 153, difficulty: "Medium" },
                    { id: 104, name: "Find Min Rotated II", leetcode: 154, difficulty: "Hard" },
                    { id: 105, name: "Find Peak Element", leetcode: 162, difficulty: "Medium" },
                    { id: 106, name: "Find First Last Position", leetcode: 34, difficulty: "Medium" },
                    { id: 107, name: "Single Element Sorted", leetcode: 540, difficulty: "Medium" },
                    { id: 108, name: "Search 2D Matrix II", leetcode: 240, difficulty: "Medium" },
                    { id: 109, name: "Successful Pairs Spells", leetcode: 2300, difficulty: "Medium" },
                ]
            },
            {
                week: "8-9", topic: "Binary Search", day: "Day 43-46: Binary Search on Answer", problems: [
                    { id: 110, name: "Sqrt(x)", leetcode: 69, difficulty: "Easy" },
                    { id: 111, name: "Koko Eating Bananas", leetcode: 875, difficulty: "Medium" },
                    { id: 112, name: "Capacity Ship Packages", leetcode: 1011, difficulty: "Medium" },
                    { id: 113, name: "Split Array Largest Sum", leetcode: 410, difficulty: "Hard" },
                    { id: 114, name: "Min Distance Gas Station", leetcode: 774, difficulty: "Hard" },
                    { id: 115, name: "Find K Closest Elements", leetcode: 658, difficulty: "Medium" },
                    { id: 116, name: "Time Based Key-Value", leetcode: 981, difficulty: "Medium" },
                    { id: 117, name: "Median Two Sorted Arrays", leetcode: 4, difficulty: "Hard" },
                    { id: 118, name: "Magnetic Force Two Balls", leetcode: 1552, difficulty: "Medium" },
                    { id: 119, name: "Min Days Make Bouquets", leetcode: 1482, difficulty: "Medium" },
                ]
            },
            // Week 10-11: Linked Lists (28 problems)
            {
                week: "10-11", topic: "Linked Lists", day: "Day 47-49: Basic Operations", problems: [
                    { id: 120, name: "Reverse Linked List", leetcode: 206, difficulty: "Easy" },
                    { id: 121, name: "Merge Two Sorted Lists", leetcode: 21, difficulty: "Easy" },
                    { id: 122, name: "Palindrome Linked List", leetcode: 234, difficulty: "Easy" },
                    { id: 123, name: "Remove LL Elements", leetcode: 203, difficulty: "Easy" },
                    { id: 124, name: "Remove Duplicates Sorted LL", leetcode: 83, difficulty: "Easy" },
                    { id: 125, name: "Middle of Linked List", leetcode: 876, difficulty: "Easy" },
                    { id: 126, name: "Delete Node in LL", leetcode: 237, difficulty: "Medium" },
                    { id: 127, name: "Convert Binary to Integer", leetcode: 1290, difficulty: "Easy" },
                    { id: 128, name: "Remove Duplicates II", leetcode: 82, difficulty: "Medium" },
                ]
            },
            {
                week: "10-11", topic: "Linked Lists", day: "Day 50-52: Two Pointer", problems: [
                    { id: 129, name: "Linked List Cycle", leetcode: 141, difficulty: "Easy" },
                    { id: 130, name: "Linked List Cycle II", leetcode: 142, difficulty: "Medium" },
                    { id: 131, name: "Remove Nth From End", leetcode: 19, difficulty: "Medium" },
                    { id: 132, name: "Intersection Two LL", leetcode: 160, difficulty: "Easy" },
                    { id: 133, name: "Find Duplicate Number", leetcode: 287, difficulty: "Medium" },
                    { id: 134, name: "Reorder List", leetcode: 143, difficulty: "Medium" },
                    { id: 135, name: "Partition List", leetcode: 86, difficulty: "Medium" },
                    { id: 136, name: "Odd Even Linked List", leetcode: 328, difficulty: "Medium" },
                ]
            },
            {
                week: "10-11", topic: "Linked Lists", day: "Day 53-56: Advanced Operations", problems: [
                    { id: 137, name: "Add Two Numbers", leetcode: 2, difficulty: "Medium" },
                    { id: 138, name: "Add Two Numbers II", leetcode: 445, difficulty: "Medium" },
                    { id: 139, name: "Copy Random Pointer", leetcode: 138, difficulty: "Medium" },
                    { id: 140, name: "Swap Nodes Pairs", leetcode: 24, difficulty: "Medium" },
                    { id: 141, name: "Rotate List", leetcode: 61, difficulty: "Medium" },
                    { id: 142, name: "Sort List", leetcode: 148, difficulty: "Medium" },
                    { id: 143, name: "Insertion Sort List", leetcode: 147, difficulty: "Medium" },
                    { id: 144, name: "LRU Cache", leetcode: 146, difficulty: "Medium" },
                    { id: 145, name: "LFU Cache", leetcode: 460, difficulty: "Hard" },
                    { id: 146, name: "Merge K Sorted Lists", leetcode: 23, difficulty: "Hard" },
                    { id: 147, name: "Reverse Nodes K-Group", leetcode: 25, difficulty: "Hard" },
                ]
            },
            // Week 12-15: Trees (53 problems)
            {
                week: "12-15", topic: "Trees", day: "Day 57-60: Tree Traversals", problems: [
                    { id: 148, name: "Binary Tree Inorder", leetcode: 94, difficulty: "Easy" },
                    { id: 149, name: "Binary Tree Preorder", leetcode: 144, difficulty: "Easy" },
                    { id: 150, name: "Binary Tree Postorder", leetcode: 145, difficulty: "Easy" },
                    { id: 151, name: "Level Order Traversal", leetcode: 102, difficulty: "Medium" },
                    { id: 152, name: "Level Order II", leetcode: 107, difficulty: "Medium" },
                    { id: 153, name: "Zigzag Level Order", leetcode: 103, difficulty: "Medium" },
                    { id: 154, name: "N-ary Level Order", leetcode: 429, difficulty: "Medium" },
                    { id: 155, name: "N-ary Preorder", leetcode: 589, difficulty: "Easy" },
                    { id: 156, name: "N-ary Postorder", leetcode: 590, difficulty: "Easy" },
                    { id: 157, name: "Average of Levels", leetcode: 637, difficulty: "Easy" },
                ]
            },
            {
                week: "12-15", topic: "Trees", day: "Day 61-64: Basic Tree Problems", problems: [
                    { id: 158, name: "Maximum Depth", leetcode: 104, difficulty: "Easy" },
                    { id: 159, name: "Minimum Depth", leetcode: 111, difficulty: "Easy" },
                    { id: 160, name: "Same Tree", leetcode: 100, difficulty: "Easy" },
                    { id: 161, name: "Symmetric Tree", leetcode: 101, difficulty: "Easy" },
                    { id: 162, name: "Invert Binary Tree", leetcode: 226, difficulty: "Easy" },
                    { id: 163, name: "Diameter of Binary Tree", leetcode: 543, difficulty: "Easy" },
                    { id: 164, name: "Balanced Binary Tree", leetcode: 110, difficulty: "Easy" },
                    { id: 165, name: "Subtree of Another Tree", leetcode: 572, difficulty: "Easy" },
                    { id: 166, name: "Merge Two Binary Trees", leetcode: 617, difficulty: "Easy" },
                    { id: 167, name: "Univalued Binary Tree", leetcode: 965, difficulty: "Easy" },
                    { id: 168, name: "Leaf-Similar Trees", leetcode: 872, difficulty: "Easy" },
                ]
            },
            {
                week: "12-15", topic: "Trees", day: "Day 65-69: Tree DFS", problems: [
                    { id: 169, name: "Path Sum", leetcode: 112, difficulty: "Easy" },
                    { id: 170, name: "Path Sum II", leetcode: 113, difficulty: "Medium" },
                    { id: 171, name: "Path Sum III", leetcode: 437, difficulty: "Medium" },
                    { id: 172, name: "Sum Root to Leaf", leetcode: 129, difficulty: "Medium" },
                    { id: 173, name: "Right Side View", leetcode: 199, difficulty: "Medium" },
                    { id: 174, name: "Count Good Nodes", leetcode: 1448, difficulty: "Medium" },
                    { id: 175, name: "Lowest Common Ancestor", leetcode: 236, difficulty: "Medium" },
                    { id: 176, name: "Max Path Sum", leetcode: 124, difficulty: "Hard" },
                    { id: 177, name: "House Robber III", leetcode: 337, difficulty: "Medium" },
                    { id: 178, name: "Sum of Left Leaves", leetcode: 404, difficulty: "Easy" },
                    { id: 179, name: "Find Bottom Left", leetcode: 513, difficulty: "Medium" },
                    { id: 180, name: "Distribute Coins", leetcode: 979, difficulty: "Medium" },
                ]
            },
            {
                week: "12-15", topic: "Trees", day: "Day 70-74: BST Problems", problems: [
                    { id: 181, name: "Search in BST", leetcode: 700, difficulty: "Easy" },
                    { id: 182, name: "Insert into BST", leetcode: 701, difficulty: "Medium" },
                    { id: 183, name: "Delete Node BST", leetcode: 450, difficulty: "Medium" },
                    { id: 184, name: "Validate BST", leetcode: 98, difficulty: "Medium" },
                    { id: 185, name: "Kth Smallest BST", leetcode: 230, difficulty: "Medium" },
                    { id: 186, name: "LCA of BST", leetcode: 235, difficulty: "Medium" },
                    { id: 187, name: "Sorted Array to BST", leetcode: 108, difficulty: "Easy" },
                    { id: 188, name: "Sorted List to BST", leetcode: 109, difficulty: "Medium" },
                    { id: 189, name: "BST Iterator", leetcode: 173, difficulty: "Medium" },
                    { id: 190, name: "Two Sum IV BST", leetcode: 653, difficulty: "Easy" },
                    { id: 191, name: "Min Difference BST", leetcode: 530, difficulty: "Easy" },
                    { id: 192, name: "Range Sum BST", leetcode: 938, difficulty: "Easy" },
                ]
            },
            {
                week: "12-15", topic: "Trees", day: "Day 75-77: Tree Construction", problems: [
                    { id: 193, name: "Preorder Inorder Build", leetcode: 105, difficulty: "Medium" },
                    { id: 194, name: "Inorder Postorder Build", leetcode: 106, difficulty: "Medium" },
                    { id: 195, name: "Preorder Postorder Build", leetcode: 889, difficulty: "Medium" },
                    { id: 196, name: "Flatten to Linked List", leetcode: 114, difficulty: "Medium" },
                    { id: 197, name: "Serialize Deserialize", leetcode: 297, difficulty: "Hard" },
                    { id: 198, name: "Populate Next Pointers", leetcode: 116, difficulty: "Medium" },
                    { id: 199, name: "Populate Next II", leetcode: 117, difficulty: "Medium" },
                    { id: 200, name: "Max Width Binary Tree", leetcode: 662, difficulty: "Medium" },
                ]
            },
            // Week 16-19: Graphs (46 problems)
            {
                week: "16-19", topic: "Graphs", day: "Day 78-81: Graph Traversals", problems: [
                    { id: 201, name: "Number of Islands", leetcode: 200, difficulty: "Medium" },
                    { id: 202, name: "Max Area of Island", leetcode: 695, difficulty: "Medium" },
                    { id: 203, name: "Clone Graph", leetcode: 133, difficulty: "Medium" },
                    { id: 204, name: "Pacific Atlantic Water", leetcode: 417, difficulty: "Medium" },
                    { id: 205, name: "Surrounded Regions", leetcode: 130, difficulty: "Medium" },
                    { id: 206, name: "Flood Fill", leetcode: 733, difficulty: "Easy" },
                    { id: 207, name: "Island Perimeter", leetcode: 463, difficulty: "Easy" },
                    { id: 208, name: "Number Closed Islands", leetcode: 1254, difficulty: "Medium" },
                    { id: 209, name: "Count Sub Islands", leetcode: 1905, difficulty: "Medium" },
                    { id: 210, name: "Making Large Island", leetcode: 827, difficulty: "Hard" },
                ]
            },
            {
                week: "16-19", topic: "Graphs", day: "Day 82-86: BFS Applications", problems: [
                    { id: 211, name: "Rotting Oranges", leetcode: 994, difficulty: "Medium" },
                    { id: 212, name: "Walls and Gates", leetcode: 286, difficulty: "Medium" },
                    { id: 213, name: "Shortest Path Binary Matrix", leetcode: 1091, difficulty: "Medium" },
                    { id: 214, name: "Word Ladder", leetcode: 127, difficulty: "Hard" },
                    { id: 215, name: "Word Ladder II", leetcode: 126, difficulty: "Hard" },
                    { id: 216, name: "Open the Lock", leetcode: 752, difficulty: "Medium" },
                    { id: 217, name: "Minimum Knight Moves", leetcode: 1197, difficulty: "Medium" },
                    { id: 218, name: "01 Matrix", leetcode: 542, difficulty: "Medium" },
                    { id: 219, name: "Shortest Bridge", leetcode: 934, difficulty: "Medium" },
                    { id: 220, name: "As Far from Land", leetcode: 1162, difficulty: "Medium" },
                ]
            },
            {
                week: "16-19", topic: "Graphs", day: "Day 87-90: Topological Sort", problems: [
                    { id: 221, name: "Course Schedule", leetcode: 207, difficulty: "Medium" },
                    { id: 222, name: "Course Schedule II", leetcode: 210, difficulty: "Medium" },
                    { id: 223, name: "Course Schedule IV", leetcode: 1462, difficulty: "Medium" },
                    { id: 224, name: "Alien Dictionary", leetcode: 269, difficulty: "Hard" },
                    { id: 225, name: "Minimum Height Trees", leetcode: 310, difficulty: "Medium" },
                    { id: 226, name: "Sequence Reconstruction", leetcode: 444, difficulty: "Medium" },
                    { id: 227, name: "Parallel Courses", leetcode: 1136, difficulty: "Medium" },
                    { id: 228, name: "Find All Recipes", leetcode: 2115, difficulty: "Medium" },
                    { id: 229, name: "Loud and Rich", leetcode: 851, difficulty: "Medium" },
                ]
            },
            {
                week: "16-19", topic: "Graphs", day: "Day 91-95: Union Find", problems: [
                    { id: 230, name: "Connected Components", leetcode: 323, difficulty: "Medium" },
                    { id: 231, name: "Graph Valid Tree", leetcode: 261, difficulty: "Medium" },
                    { id: 232, name: "Redundant Connection", leetcode: 684, difficulty: "Medium" },
                    { id: 233, name: "Redundant Connection II", leetcode: 685, difficulty: "Hard" },
                    { id: 234, name: "Accounts Merge", leetcode: 721, difficulty: "Medium" },
                    { id: 235, name: "Longest Consecutive", leetcode: 128, difficulty: "Medium" },
                    { id: 236, name: "Number of Provinces", leetcode: 547, difficulty: "Medium" },
                    { id: 237, name: "Smallest String Swaps", leetcode: 1202, difficulty: "Medium" },
                    { id: 238, name: "Most Stones Removed", leetcode: 947, difficulty: "Medium" },
                    { id: 239, name: "Equality Equations", leetcode: 990, difficulty: "Medium" },
                ]
            },
            {
                week: "16-19", topic: "Graphs", day: "Day 96-98: Shortest Path", problems: [
                    { id: 240, name: "Network Delay Time", leetcode: 743, difficulty: "Medium" },
                    { id: 241, name: "Cheapest Flights K Stops", leetcode: 787, difficulty: "Medium" },
                    { id: 242, name: "Path Minimum Effort", leetcode: 1631, difficulty: "Medium" },
                    { id: 243, name: "Swim Rising Water", leetcode: 778, difficulty: "Hard" },
                    { id: 244, name: "Min Cost Connect Points", leetcode: 1584, difficulty: "Medium" },
                    { id: 245, name: "City Smallest Neighbors", leetcode: 1334, difficulty: "Medium" },
                    { id: 246, name: "Max Probability Path", leetcode: 1514, difficulty: "Medium" },
                ]
            },
            // Week 20-21: Heap (20 problems)
            {
                week: "20-21", topic: "Heap", day: "Day 99-101: Basic Heap", problems: [
                    { id: 247, name: "Kth Largest in Array", leetcode: 215, difficulty: "Medium" },
                    { id: 248, name: "Kth Largest in Stream", leetcode: 703, difficulty: "Easy" },
                    { id: 249, name: "Last Stone Weight", leetcode: 1046, difficulty: "Easy" },
                    { id: 250, name: "K Closest Points", leetcode: 973, difficulty: "Medium" },
                    { id: 251, name: "Sort By Frequency", leetcode: 451, difficulty: "Medium" },
                    { id: 252, name: "Kth Smallest Matrix", leetcode: 378, difficulty: "Medium" },
                    { id: 253, name: "Relative Ranks", leetcode: 506, difficulty: "Easy" },
                    { id: 254, name: "Take Gifts Richest", leetcode: 2558, difficulty: "Easy" },
                ]
            },
            {
                week: "20-21", topic: "Heap", day: "Day 102-106: Advanced Heap", problems: [
                    { id: 255, name: "Top K Frequent", leetcode: 347, difficulty: "Medium" },
                    { id: 256, name: "Top K Frequent Words", leetcode: 692, difficulty: "Medium" },
                    { id: 257, name: "Find Median Stream", leetcode: 295, difficulty: "Hard" },
                    { id: 258, name: "Sliding Window Median", leetcode: 480, difficulty: "Hard" },
                    { id: 259, name: "Task Scheduler", leetcode: 621, difficulty: "Medium" },
                    { id: 260, name: "Reorganize String", leetcode: 767, difficulty: "Medium" },
                    { id: 261, name: "Merge K Sorted", leetcode: 23, difficulty: "Hard" },
                    { id: 262, name: "Ugly Number II", leetcode: 264, difficulty: "Medium" },
                    { id: 263, name: "Super Ugly Number", leetcode: 313, difficulty: "Medium" },
                    { id: 264, name: "Smallest Range K Lists", leetcode: 632, difficulty: "Hard" },
                    { id: 265, name: "IPO", leetcode: 502, difficulty: "Hard" },
                    { id: 266, name: "Max Subsequence Score", leetcode: 2542, difficulty: "Medium" },
                ]
            },
            // Week 22-26: Dynamic Programming (60 problems)
            {
                week: "22-26", topic: "Dynamic Programming", day: "Day 107-110: 1D DP Basics", problems: [
                    { id: 267, name: "Climbing Stairs", leetcode: 70, difficulty: "Easy" },
                    { id: 268, name: "Min Cost Stairs", leetcode: 746, difficulty: "Easy" },
                    { id: 269, name: "N-th Tribonacci", leetcode: 1137, difficulty: "Easy" },
                    { id: 270, name: "Fibonacci Number", leetcode: 509, difficulty: "Easy" },
                    { id: 271, name: "House Robber", leetcode: 198, difficulty: "Medium" },
                    { id: 272, name: "House Robber II", leetcode: 213, difficulty: "Medium" },
                    { id: 273, name: "Delete and Earn", leetcode: 740, difficulty: "Medium" },
                    { id: 274, name: "Decode Ways", leetcode: 91, difficulty: "Medium" },
                    { id: 275, name: "Counting Bits", leetcode: 338, difficulty: "Easy" },
                ]
            },
            {
                week: "22-26", topic: "Dynamic Programming", day: "Day 111-115: 1D DP Advanced", problems: [
                    { id: 276, name: "Maximum Subarray", leetcode: 53, difficulty: "Medium" },
                    { id: 277, name: "Max Product Subarray", leetcode: 152, difficulty: "Medium" },
                    { id: 278, name: "Longest Increasing Sub", leetcode: 300, difficulty: "Medium" },
                    { id: 279, name: "Number of LIS", leetcode: 673, difficulty: "Medium" },
                    { id: 280, name: "Longest Turbulent", leetcode: 978, difficulty: "Medium" },
                    { id: 281, name: "Word Break", leetcode: 139, difficulty: "Medium" },
                    { id: 282, name: "Word Break II", leetcode: 140, difficulty: "Hard" },
                    { id: 283, name: "Jump Game", leetcode: 55, difficulty: "Medium" },
                    { id: 284, name: "Jump Game II", leetcode: 45, difficulty: "Medium" },
                    { id: 285, name: "Longest Valid Parens", leetcode: 32, difficulty: "Hard" },
                    { id: 286, name: "Perfect Squares", leetcode: 279, difficulty: "Medium" },
                    { id: 287, name: "Partition Subset Sum", leetcode: 416, difficulty: "Medium" },
                ]
            },
            {
                week: "22-26", topic: "Dynamic Programming", day: "Day 116-119: 2D DP Grid", problems: [
                    { id: 288, name: "Unique Paths", leetcode: 62, difficulty: "Medium" },
                    { id: 289, name: "Unique Paths II", leetcode: 63, difficulty: "Medium" },
                    { id: 290, name: "Minimum Path Sum", leetcode: 64, difficulty: "Medium" },
                    { id: 291, name: "Triangle", leetcode: 120, difficulty: "Medium" },
                    { id: 292, name: "Maximal Square", leetcode: 221, difficulty: "Medium" },
                    { id: 293, name: "Dungeon Game", leetcode: 174, difficulty: "Hard" },
                    { id: 294, name: "Cherry Pickup", leetcode: 741, difficulty: "Hard" },
                    { id: 295, name: "Cherry Pickup II", leetcode: 1463, difficulty: "Hard" },
                    { id: 296, name: "Out of Boundary", leetcode: 576, difficulty: "Medium" },
                ]
            },
            {
                week: "22-26", topic: "Dynamic Programming", day: "Day 120-124: String DP", problems: [
                    { id: 297, name: "Longest Common Subseq", leetcode: 1143, difficulty: "Medium" },
                    { id: 298, name: "Longest Palindrome Sub", leetcode: 5, difficulty: "Medium" },
                    { id: 299, name: "Palindromic Substrings", leetcode: 647, difficulty: "Medium" },
                    { id: 300, name: "Longest Palindrome Seq", leetcode: 516, difficulty: "Medium" },
                    { id: 301, name: "Edit Distance", leetcode: 72, difficulty: "Medium" },
                    { id: 302, name: "Distinct Subsequences", leetcode: 115, difficulty: "Hard" },
                    { id: 303, name: "Interleaving String", leetcode: 97, difficulty: "Medium" },
                    { id: 304, name: "Shortest Supersequence", leetcode: 1092, difficulty: "Hard" },
                    { id: 305, name: "Min ASCII Delete", leetcode: 712, difficulty: "Medium" },
                    { id: 306, name: "Delete Op Two Strings", leetcode: 583, difficulty: "Medium" },
                ]
            },
            {
                week: "22-26", topic: "Dynamic Programming", day: "Day 125-128: Knapsack DP", problems: [
                    { id: 307, name: "Coin Change", leetcode: 322, difficulty: "Medium" },
                    { id: 308, name: "Coin Change 2", leetcode: 518, difficulty: "Medium" },
                    { id: 309, name: "Target Sum", leetcode: 494, difficulty: "Medium" },
                    { id: 310, name: "Last Stone Weight II", leetcode: 1049, difficulty: "Medium" },
                    { id: 311, name: "Ones and Zeroes", leetcode: 474, difficulty: "Medium" },
                    { id: 312, name: "Profitable Schemes", leetcode: 879, difficulty: "Hard" },
                    { id: 313, name: "Combination Sum IV", leetcode: 377, difficulty: "Medium" },
                ]
            },
            {
                week: "22-26", topic: "Dynamic Programming", day: "Day 129-131: Stock DP", problems: [
                    { id: 314, name: "Buy Sell Stock", leetcode: 121, difficulty: "Easy" },
                    { id: 315, name: "Buy Sell Stock II", leetcode: 122, difficulty: "Medium" },
                    { id: 316, name: "Buy Sell Stock III", leetcode: 123, difficulty: "Hard" },
                    { id: 317, name: "Buy Sell Stock IV", leetcode: 188, difficulty: "Hard" },
                    { id: 318, name: "With Cooldown", leetcode: 309, difficulty: "Medium" },
                    { id: 319, name: "With Transaction Fee", leetcode: 714, difficulty: "Medium" },
                ]
            },
            {
                week: "22-26", topic: "Dynamic Programming", day: "Day 132-135: Advanced DP", problems: [
                    { id: 320, name: "Regex Matching", leetcode: 10, difficulty: "Hard" },
                    { id: 321, name: "Wildcard Matching", leetcode: 44, difficulty: "Hard" },
                    { id: 322, name: "Burst Balloons", leetcode: 312, difficulty: "Hard" },
                    { id: 323, name: "Min Cost Cut Stick", leetcode: 1547, difficulty: "Hard" },
                    { id: 324, name: "Stone Game", leetcode: 877, difficulty: "Medium" },
                    { id: 325, name: "Stone Game II", leetcode: 1140, difficulty: "Medium" },
                    { id: 326, name: "Predict Winner", leetcode: 486, difficulty: "Medium" },
                ]
            },
            // Week 27-28: Backtracking (24 problems)
            {
                week: "27-28", topic: "Backtracking", day: "Day 136-139: Subsets & Combinations", problems: [
                    { id: 327, name: "Subsets", leetcode: 78, difficulty: "Medium" },
                    { id: 328, name: "Subsets II", leetcode: 90, difficulty: "Medium" },
                    { id: 329, name: "Combinations", leetcode: 77, difficulty: "Medium" },
                    { id: 330, name: "Combination Sum", leetcode: 39, difficulty: "Medium" },
                    { id: 331, name: "Combination Sum II", leetcode: 40, difficulty: "Medium" },
                    { id: 332, name: "Combination Sum III", leetcode: 216, difficulty: "Medium" },
                    { id: 333, name: "Factor Combinations", leetcode: 254, difficulty: "Medium" },
                ]
            },
            {
                week: "27-28", topic: "Backtracking", day: "Day 140-144: Permutations & More", problems: [
                    { id: 334, name: "Permutations", leetcode: 46, difficulty: "Medium" },
                    { id: 335, name: "Permutations II", leetcode: 47, difficulty: "Medium" },
                    { id: 336, name: "Next Permutation", leetcode: 31, difficulty: "Medium" },
                    { id: 337, name: "Letter Combinations", leetcode: 17, difficulty: "Medium" },
                    { id: 338, name: "Palindrome Partition", leetcode: 131, difficulty: "Medium" },
                    { id: 339, name: "Restore IP Addresses", leetcode: 93, difficulty: "Medium" },
                    { id: 340, name: "Generate Parentheses", leetcode: 22, difficulty: "Medium" },
                    { id: 341, name: "Letter Case Permutation", leetcode: 784, difficulty: "Medium" },
                    { id: 342, name: "Split Descending", leetcode: 1849, difficulty: "Medium" },
                ]
            },
            {
                week: "27-28", topic: "Backtracking", day: "Day 145-148: Grid Backtracking", problems: [
                    { id: 343, name: "Word Search", leetcode: 79, difficulty: "Medium" },
                    { id: 344, name: "Word Search II", leetcode: 212, difficulty: "Hard" },
                    { id: 345, name: "N-Queens", leetcode: 51, difficulty: "Hard" },
                    { id: 346, name: "N-Queens II", leetcode: 52, difficulty: "Hard" },
                    { id: 347, name: "Sudoku Solver", leetcode: 37, difficulty: "Hard" },
                    { id: 348, name: "Unique Paths III", leetcode: 980, difficulty: "Hard" },
                    { id: 349, name: "Robot Room Cleaner", leetcode: 489, difficulty: "Hard" },
                    { id: 350, name: "Path Maximum Gold", leetcode: 1219, difficulty: "Medium" },
                ]
            },
        ];

        // State
        let completedProblems = JSON.parse(localStorage.getItem('dsaProgress')) || {};
        let streakData = JSON.parse(localStorage.getItem('dsaStreak')) || { count: 0, lastDate: null };
        let todayCompleted = JSON.parse(localStorage.getItem('dsaToday')) || { date: null, count: 0 };
        let activityHistory = JSON.parse(localStorage.getItem('dsaActivity')) || {};

        // Initialize
        function init() {
            checkStreak();
            renderHeatmap();
            renderWeeks();
            updateStats();
        }

        // Render Activity Heatmap
        function renderHeatmap() {
            const container = document.getElementById('heatmapContainer');
            const today = new Date();
            const weeks = 26; // 6 months
            const startDate = new Date(today);
            startDate.setDate(startDate.getDate() - (weeks * 7) + (7 - startDate.getDay()));

            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const days = ['', 'Mon', '', 'Wed', '', 'Fri', ''];

            let html = '<div class="heatmap-months">';
            let currentMonth = -1;
            let monthPositions = [];

            // Generate weeks
            let weeksHtml = '<div class="heatmap-container"><div class="heatmap-days-label">';
            days.forEach(day => {
                weeksHtml += `<div class="heatmap-day-label">${day}</div>`;
            });
            weeksHtml += '</div><div class="heatmap-grid">';

            let totalActivity = 0;

            for (let w = 0; w < weeks; w++) {
                weeksHtml += '<div class="heatmap-week">';

                for (let d = 0; d < 7; d++) {
                    const cellDate = new Date(startDate);
                    cellDate.setDate(startDate.getDate() + (w * 7) + d);

                    const dateStr = cellDate.toDateString();
                    const count = activityHistory[dateStr] || 0;
                    totalActivity += count;

                    const isFuture = cellDate > today;
                    const month = cellDate.getMonth();

                    // Track month changes
                    if (d === 0 && month !== currentMonth) {
                        monthPositions.push({ month: months[month], week: w });
                        currentMonth = month;
                    }

                    // Determine level
                    let level = 'level-0';
                    if (!isFuture && count > 0) {
                        if (count >= 5) level = 'level-4';
                        else if (count >= 3) level = 'level-3';
                        else if (count >= 2) level = 'level-2';
                        else level = 'level-1';
                    }

                    const tooltip = isFuture ? '' : `data-tooltip="${count} problem${count !== 1 ? 's' : ''} on ${cellDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}"`;

                    weeksHtml += `<div class="heatmap-cell ${level} ${isFuture ? 'future' : ''}" ${tooltip}></div>`;
                }

                weeksHtml += '</div>';
            }

            weeksHtml += '</div></div>';

            // Build month labels
            monthPositions.forEach((pos, i) => {
                const nextPos = monthPositions[i + 1]?.week || weeks;
                const width = (nextPos - pos.week) * 15;
                html += `<div class="heatmap-month" style="min-width: ${width}px">${pos.month}</div>`;
            });
            html += '</div>';

            container.innerHTML = html + weeksHtml;

            // Update total
            document.getElementById('heatmapTotal').textContent = `${totalActivity} problems solved in the last 6 months`;
        }

        // Check and update streak
        function checkStreak() {
            const today = new Date().toDateString();
            const yesterday = new Date(Date.now() - 86400000).toDateString();

            if (todayCompleted.date !== today) {
                todayCompleted = { date: today, count: 0 };
                localStorage.setItem('dsaToday', JSON.stringify(todayCompleted));
            }

            if (streakData.lastDate === yesterday) {
                // Streak continues
            } else if (streakData.lastDate !== today) {
                streakData.count = 0;
            }
        }

        // Render week cards
        function renderWeeks() {
            const grid = document.getElementById('weeksGrid');
            const groupedByWeek = {};

            problemsData.forEach(group => {
                if (!groupedByWeek[group.week]) {
                    groupedByWeek[group.week] = { topic: group.topic, days: [] };
                }
                groupedByWeek[group.week].days.push(group);
            });

            grid.innerHTML = Object.entries(groupedByWeek).map(([week, data]) => {
                const allProblems = data.days.flatMap(d => d.problems);
                const completed = allProblems.filter(p => completedProblems[p.id]).length;
                const total = allProblems.length;
                const percentage = total > 0 ? (completed / total * 100) : 0;
                const icon = topicIcons[data.topic] || 'üìù';
                const isComplete = completed === total;

                return `
                    <div class="week-card" id="week-${week}">
                        <div class="week-header" onclick="toggleWeek('${week}')">
                            <div class="week-info">
                                <div class="week-number">
                                    <span class="week-icon">${icon}</span>
                                    <span class="week-label">W${week}</span>
                                </div>
                                <div>
                                    <div class="week-title">${data.topic}</div>
                                    <div class="week-topic">Week ${week} ‚Ä¢ ${total} Problems</div>
                                </div>
                            </div>
                            <div class="week-progress">
                                <span class="week-count ${isComplete ? 'complete' : ''}">${completed}/${total}</span>
                                <div class="week-mini-progress">
                                    <div class="week-mini-bar" style="width: ${percentage}%"></div>
                                </div>
                                <span class="expand-icon">‚ñº</span>
                            </div>
                        </div>
                        <div class="week-content">
                            ${data.days.map(day => `
                                <div class="day-group">
                                    <div class="day-label">${day.day}</div>
                                    ${day.problems.map(p => `
                                        <div class="problem-item ${completedProblems[p.id] ? 'completed' : ''}" 
                                             onclick="toggleProblem(${p.id}, this)">
                                            <div class="checkbox">
                                                <span class="checkmark">‚úì</span>
                                            </div>
                                            <div class="problem-info">
                                                <div class="problem-name">${p.name}</div>
                                                <div class="problem-meta">
                                                    <span class="problem-number">#${p.leetcode}</span>
                                                    <span class="difficulty ${p.difficulty.toLowerCase()}">${p.difficulty}</span>
                                                </div>
                                            </div>
                                            <a href="https://leetcode.com/problems/${p.name.toLowerCase().replace(/\s+/g, '-')}/" 
                                               target="_blank" class="leetcode-link" 
                                               onclick="event.stopPropagation()">LeetCode ‚Üí</a>
                                        </div>
                                    `).join('')}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Toggle week expansion
        function toggleWeek(week) {
            const card = document.getElementById(`week-${week}`);
            card.classList.toggle('expanded');
        }

        // Create confetti
        function createConfetti() {
            const colors = ['#ff69b4', '#9b59b6', '#ffd93d', '#00d4aa', '#ff6b6b'];
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.cssText = `
                    left: ${Math.random() * 100}vw;
                    top: -10px;
                    width: ${Math.random() * 10 + 5}px;
                    height: ${Math.random() * 10 + 5}px;
                    background: ${colors[Math.floor(Math.random() * colors.length)]};
                    border: 2px solid #1a1a1a;
                    animation: fall ${Math.random() * 2 + 2}s linear forwards;
                `;
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 4000);
            }

            // Add fall animation dynamically
            if (!document.getElementById('confetti-style')) {
                const style = document.createElement('style');
                style.id = 'confetti-style';
                style.textContent = `
                    @keyframes fall {
                        to {
                            transform: translateY(100vh) rotate(720deg);
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Toggle problem completion
        function toggleProblem(id, element) {
            completedProblems[id] = !completedProblems[id];
            element.classList.toggle('completed');

            if (completedProblems[id]) {
                // Update today's count
                const today = new Date().toDateString();
                if (todayCompleted.date !== today) {
                    todayCompleted = { date: today, count: 1 };
                } else {
                    todayCompleted.count++;
                }

                // Update streak
                streakData.lastDate = today;
                if (todayCompleted.count === 1) {
                    streakData.count++;
                }

                // Celebrate milestones
                const totalCompleted = Object.values(completedProblems).filter(v => v).length;
                if (totalCompleted % 10 === 0) {
                    createConfetti();
                    showCelebration(`You've completed ${totalCompleted} problems! üéä`);
                }

                // Update activity history
                activityHistory[today] = (activityHistory[today] || 0) + 1;
                localStorage.setItem('dsaActivity', JSON.stringify(activityHistory));
                renderHeatmap();
            } else {
                // Decrease activity if unchecking
                const today = new Date().toDateString();
                if (activityHistory[today] && activityHistory[today] > 0) {
                    activityHistory[today]--;
                    localStorage.setItem('dsaActivity', JSON.stringify(activityHistory));
                    renderHeatmap();
                }
            }

            localStorage.setItem('dsaProgress', JSON.stringify(completedProblems));
            localStorage.setItem('dsaStreak', JSON.stringify(streakData));
            localStorage.setItem('dsaToday', JSON.stringify(todayCompleted));

            updateStats();
        }

        // Update all stats
        function updateStats() {
            const completed = Object.values(completedProblems).filter(v => v).length;
            const total = 350;
            const percentage = (completed / total * 100).toFixed(1);

            document.getElementById('completedCount').textContent = completed;
            document.getElementById('remainingCount').textContent = total - completed;
            document.getElementById('todayCount').textContent = todayCompleted.count;
            document.getElementById('progressPercent').textContent = `${percentage}%`;
            document.getElementById('progressBar').style.width = `${percentage}%`;
            document.getElementById('streakDays').textContent = streakData.count;
        }

        // Show celebration modal
        function showCelebration(text) {
            document.getElementById('celebrationText').textContent = text;
            document.getElementById('celebrationModal').classList.add('active');
        }

        // Close modal
        function closeModal() {
            document.getElementById('celebrationModal').classList.remove('active');
        }

        // Reset progress
        function resetProgress() {
            if (confirm('Are you sure you want to reset all progress? This cannot be undone.')) {
                completedProblems = {};
                streakData = { count: 0, lastDate: null };
                todayCompleted = { date: null, count: 0 };
                activityHistory = {};
                localStorage.removeItem('dsaProgress');
                localStorage.removeItem('dsaStreak');
                localStorage.removeItem('dsaToday');
                localStorage.removeItem('dsaActivity');
                renderHeatmap();
                renderWeeks();
                updateStats();
            }
        }

        // Start
        init();
    </script>
</body>

</html>